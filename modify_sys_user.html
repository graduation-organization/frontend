<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <script src="assets/js/jquery-1.11.1.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <title>详情</title>
    <style type="text/css"></style>
    <script>
        localStorage.setItem("sysUserId", 1);
        var sysUserId = parseInt(localStorage.getItem("sysUserId"));
        $(function () {
//            alert(sysUserId);
            $.ajax({
                type: "get",
                url: "http://localhost:8080/sysUser/" + sysUserId + "/info",
                dataType: "json",
                success: function (result) {
                     $("#sysUserId").val(result.sysUserId);
                     $("#sysUserName").val(result.sysUserName);
                     $("#sysUserPwd").val(result.sysUserPwd);
                     $("#sysUserCreator").val(result.sysUserCreator);
                     $("#sysUserCreateTime").val(result.sysUserCreateTime);
                     $("#sysUserLastLoginTime").val(result.sysUserLastLoginTime);
                     $("#sysUserStatus").val(result.sysUserStatus);
                     $("#sysUserUpdateUser").val(result.sysUserUpdateUser);
                     $("#roleId").val(result.roleId);
                     $("#sysUserUpdateTime").val(result.sysUserUpdateTime);
                },
                error: function () {
                    alert("获取数据失败");
                }
            })
        });
        function modifySysUser() {
            var data = JSON.stringify({
                sysUserId: sysUserId,
                sysUserName: $("#sysUserName").val(),
                sysUserPwd: $("#sysUserPwd").val(),
                sysUserStatus: $("#sysUserStatus").val(),
                roleId: $("#roleId").val()

            });
            $.ajax({
                type: "put",
                url: "http://localhost:8080/sysUser/info",
                data: data,
                dataType: "json",
                contentType: "application/json; charset=utf-8",
                success: function () {
                    alert("修改成功");
                },
                error: function () {
                    alert("修改失败");
                }
            })
        };

    </script>
</head>
<body>
<div class="panle panel-success">
    <div class="panel-heading">
        <a class="panel-title">用户修改</a>
    </div>

    <div class="container-fluid">
        <div>
            <form class="form-horizontal">
                <div class="form-group">
                    <label class="col-md-1 control-label"></label>
                </div>
                <div class="form-group">
                    <!-- for与input中的id保持一致，可以使得在点击label时，也可以获取焦点。 -->
                    <label class="col-md-6 control-label" for="sysUserId">用&nbsp;&nbsp;&nbsp;户&nbsp;&nbsp;&nbsp;编&nbsp;&nbsp;&nbsp;号：</label>
                    <div class="col-md-2">
                        <input type="text" id="sysUserId" class="form-control" value="" readonly/>
                    </div>

                </div>
                <div class="form-group">
                    <!-- for与input中的id保持一致，可以使得在点击label时，也可以获取焦点。 -->
                    <label class="col-md-6 control-label" for="sysUserName">用&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;户&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;名：</label>
                    <div class="col-md-2">
                        <input type="text" id="sysUserName" class="form-control" value=""/>
                    </div>

                </div>
                <div class="form-group">
                    <label class="col-md-6 control-label" for="sysUserPwd">密&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;码：</label>
                    <div class="col-md-2">
                        <input type="text" id="sysUserPwd" class="form-control" value=""/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-6 control-label" for="sysUserCreator">创&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;建&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;者：</label>
                    <div class="col-md-2">
                        <input type="text" id="sysUserCreator" class="form-control" value="" readonly/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-6 control-label" for="sysUserCreateTime">注&nbsp;&nbsp;&nbsp;册&nbsp;&nbsp;&nbsp;时&nbsp;&nbsp;&nbsp;间：</label>
                    <div class="col-md-2">
                        <input type="text" id="sysUserCreateTime" class="form-control" value="" readonly/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-6 control-label" for="sysUserLastLoginTime">最&nbsp;近&nbsp;登&nbsp;录&nbsp;时&nbsp;间：</label>
                    <div class="col-md-2">
                        <input type="text" id="sysUserLastLoginTime" class="form-control" value="" readonly/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-6 control-label" for="sysUserStatus">用&nbsp;&nbsp;&nbsp;户&nbsp;&nbsp;&nbsp;状&nbsp;&nbsp;&nbsp;态：</label>
                    <div class="col-md-2">
                        <select class="selectpicker" id="sysUserStatus">
                            <option>0</option>
                            <option selected>1</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-6 control-label" for="sysUserUpdateUser">更&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;新&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;者：</label>
                    <div class="col-md-2">
                        <input type="text" id="sysUserUpdateUser" class="form-control" value="" readonly/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-6 control-label" for="roleId">角&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;色：</label>
                    <div class="col-md-2">
                        <select class="selectpicker" id="roleId">
                            <option>1</option>
                            <option>2</option>
                            <option selected>3</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-6 control-label" for="sysUserUpdateTime">更&nbsp;&nbsp;&nbsp;新&nbsp;&nbsp;&nbsp;时&nbsp;&nbsp;&nbsp;间：</label>
                    <div class="col-md-2">
                        <input type="text" id="sysUserUpdateTime" class="form-control" value="" readonly/>
                    </div>
                </div>
                <div class="form-actions text-center">
                    <button id="submit" type="submit" class="btn btn-success glyphicon glyphicon-pencil" onclick="modifySysUser()">修改</button>
                </div>
            </form>
        </div>
    </div>
</div>
</body>
</html>